{"version":3,"sources":["webpack:///./src/main/webapp/typescript/index.ts","webpack:///./src/main/webapp/typescript/app/app.ts","webpack:///./src/main/webapp/typescript/services/timeService.ts","webpack:///./src/main/webapp/typescript/services/service.ts","webpack:///./src/main/webapp/typescript/common/baseBackendContext.ts","webpack:///./src/main/webapp/typescript/common/headers.ts","webpack:///./src/main/webapp/typescript/app/app.html","webpack:///./src/main/webapp/typescript/routes.ts","webpack:///./src/main/webapp/typescript/home/home.ts","webpack:///./src/main/webapp/typescript/home/home.css","webpack:///./src/main/webapp/typescript/home/home.html"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA,sDAAwB,CAAmC,CAAC;AAC5D,oCAAoE,CAAiB,CAAC;AACtF,kCAAmC,GAAe,CAAC;AACnD,iCAAkB,GAAW,CAAC;AAC9B,oCAAmC,GAAU,CAAC;AAC9C,kCAAsC,CAAe,CAAC;AACtD,mCAAmD,GAAgB,CAAC;AACpE,0CAAmC,GAAc,CAAC;AAElD,qCAAS,CACL,SAAG,EACH;KACI,8BAAsB,EAAE;KACxB,oBAAY,EAAE;KACd,6BAAoB;KACpB,qBAAc;KACd,cAAO,CAAC,yBAAgB,EAAE,EAAC,QAAQ,EAAE,6BAAoB,EAAC,CAAC;KAC3D,cAAO,CAAC,uBAAQ,EAAE;SACd,UAAU,EAAE,UAAC,IAAI;aACb,MAAM,CAAC,IAAI,uBAAQ,CAAC,IAAI,yBAAU,CAAC;iBAC/B,SAAS,EAAE,KAAK;cACnB,CAAC,EAAE,IAAI,CAAC,CAAC;SACd,CAAC;SACD,IAAI,EAAE,CAAC,WAAI,CAAC;MACf,CAAC;KACF,cAAO,CAAC,sBAAa,EAAE,EAAC,QAAQ,EAAE,GAAG,EAAC,CAAC;EAC1C,CACJ,CAAC,KAAK,CAAC,aAAG,IAAI,cAAO,CAAC,KAAK,CAAC,GAAG,CAAC,EAAlB,CAAkB,CAAC,CAAC;;;;;;;;;;;;;;;;;;AC3BnC,yCAA0B,GAAyB,CAAC;AACpD,qCAAwB,GAAqB,CAAC;AAC9C,kCAAwB,CAAe,CAAC;AACxC,oCAAwC,GAAiB,CAAC;AAE1D,KAAI,QAAQ,GAAG,mBAAO,CAAC,GAAY,CAAC,CAAC;AAQrC;KAII,aAAmB,MAAc;SAAd,WAAM,GAAN,MAAM,CAAQ;KACjC,CAAC;KAXL;SAAC,gBAAS,CAAC;aACP,QAAQ,EAAE,eAAe;aACzB,QAAQ,EAAE,QAAQ;aAClB,UAAU,EAAE,CAAC,0BAAiB,CAAC;aAC/B,SAAS,EAAE,CAAC,mBAAS,EAAE,yBAAW,CAAC;UACtC,CAAC;;YAAA;KAOF,UAAC;AAAD,EAAC;AANY,YAAG,MAMf;;;;;;;;;;;;;;;;;;ACnBD,kCAAyB,CAAe,CAAC;AACzC,wCAAyB,EAAiB,CAAC;AAC3C,qBAAO,GAA8B,CAAC;AACtC,qBAAO,GAAyB,CAAC;AAGjC;KAIE;SACE,IAAI,CAAC,IAAI,GAAG,uBAAU,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,WAAC,IAAI,WAAI,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC,KAAK,EAAE,CAAC;KACnE,CAAC;KAPH;SAAC,iBAAU,EAAE;;oBAAA;KAQb,kBAAC;AAAD,EAAC;AAPY,oBAAW,cAOvB;;;;;;;;;;;;;;;;;;ACbD,gDAAiC,GAA8B,CAAC;AAEhE,kCAAyB,CAAe,CAAC;AACzC,kCAAmB,GAAe,CAAC;AACnC,qCAA6B,GAAmB,CAAC;AACjD,qBAAO,GAA6B,CAAC;AAGrC;KAII,mBAAmB,CAAO;SAAP,MAAC,GAAD,CAAC,CAAM;SAFlB,YAAO,GAAW,uCAAkB,GAAG,MAAM,CAAC;KAGtD,CAAC;KAEM,2BAAO,GAAd;SACI,MAAM,CAAC,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,CAAC;KAC9C,CAAC;KAMS,+BAAW,GAArB,UAAsB,GAAa;SAC/B,IAAI,IAAI,GAAG,GAAG,CAAC,IAAI,EAAE,CAAC;SACtB,MAAM,CAAC,IAAI,IAAI,EAAE,CAAC;KACtB,CAAC;KAES,+BAAW,GAArB,UAAsB,KAAU;SAC5B,OAAO,CAAC,KAAK,CAAC,mBAAmB,EAAE,KAAK,CAAC,CAAC;SAC1C,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,IAAI,KAAK,CAAC,CAAC;KAClD,CAAC;KAES,uBAAG,GAAb,UAAc,IAAS,EAAE,UAAmB;SACxC,OAAO,CAAC,GAAG,CAAC,UAAU,GAAG,gBAAgB,GAAG,IAAI,CAAC,CAAC;KACtD,CAAC;KAES,wBAAI,GAAd,UAAe,GAAW,EAAE,IAAS;SACjC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,EAAE,EAAE,OAAO,EAAE,wBAAc,EAAE,CAAC;cACrD,SAAS,EAAE;cACX,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC;KAChC,CAAC;KAES,wBAAI,GAAd,UAAe,GAAW;SACtB,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,EAAE,OAAO,EAAE,wBAAc,EAAE,CAAC;cAC9C,SAAS,EAAE;cACX,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC;KAChC,CAAC;KAES,sCAAkB,GAA5B,UAA6B,GAAW,EAAE,IAAS;SAC/C,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;KACvD,CAAC;KAES,qCAAiB,GAA3B,UAA4B,GAAW;SACnC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;KACjD,CAAC;KAhDL;SAAC,iBAAU,EAAE;;kBAAA;KAiDb,gBAAC;AAAD,EAAC;AAhDY,kBAAS,YAgDrB;;;;;;;;;ACxDY,2BAAkB,GAAG,wBAAwB,CAAC;;;;;;;;;ACA3D,kCAAsB,GAAe,CAAC;AAEzB,uBAAc,GAAG,IAAI,cAAO,EAAE,CAAC;AAC5C,uBAAc,CAAC,MAAM,CAAC,QAAQ,EAAE,kBAAkB,CAAC,CAAC;AACpD,uBAAc,CAAC,MAAM,CAAC,cAAc,EAAE,kBAAkB,CAAC,CAAC;AAC1D,uBAAc,CAAC,MAAM,CAAC,kCAAkC,EAAE,MAAM,CAAC,CAAC;AAClE,uBAAc,CAAC,MAAM,CAAC,8BAA8B,EAAE,2BAA2B,CAAC,CAAC;AACnF,uBAAc,CAAC,MAAM,CAAC,6BAA6B,EAAE,GAAG,CAAC,CAAC;AAC1D,uBAAc,CAAC,MAAM,CAAC,8BAA8B,EAChD,8FAA8F;KAC9F,gEAAgE,CAAC,CAAC;;;;;;;;ACVtE,uD;;;;;;;;ACAA,oCAA0C,GAAiB,CAAC;AAC5D,kCAAmB,GAAa,CAAC;AAEpB,eAAM,GAAiB;KAChC,EAAC,IAAI,EAAE,EAAE,EAAE,UAAU,EAAE,OAAO,EAAE,QAAQ,EAAE,IAAI,EAAC;KAC/C,EAAC,IAAI,EAAE,OAAO,EAAE,SAAS,EAAE,WAAI,EAAC;EACnC,CAAC;AAEW,6BAAoB,GAAG;KAChC,sBAAa,CAAC,cAAM,CAAC;EACxB,CAAC;;;;;;;;;;;;;;;;;;ACVF,yCAA0B,GAAyB,CAAC;AAEpD,qCAAwB,GAAqB,CAAC;AAC9C,kCAAgC,CAAe,CAAC;AAChD,oCAA8B,CAAiB,CAAC;AAEhD,oCAAwC,GAAiB,CAAC;AAK1D,KAAI,MAAM,GAAG,mBAAO,CAAC,GAAY,CAAC,CAAC;AACnC,KAAI,QAAQ,GAAG,mBAAO,CAAC,GAAa,CAAC,CAAC;AAQtC;KAWI,cAAmB,MAAc,EAAU,OAAkB,EAAU,WAAwB;SAA5E,WAAM,GAAN,MAAM,CAAQ;SAAU,YAAO,GAAP,OAAO,CAAW;SAAU,gBAAW,GAAX,WAAW,CAAa;SAT/F,UAAK,GAAG,UAAU,CAAC;SAUf,IAAI,CAAC,OAAO,EAAE,CAAC;KACnB,CAAC;KAED,uBAAQ,GAAR;SAAA,iBAIC;SAHG,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,kBAAQ;aAChC,KAAI,CAAC,IAAI,GAAG,QAAQ,CAAC;SACzB,CAAC,CAAC,CAAC;KACP,CAAC;KAED,iCAAkB,GAAlB;SACI,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;aACZ,IAAI,YAAY,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;aACnH,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,GAAG,KAAK,CAAC,GAAG,KAAK,CAAC;aAE7D,IAAI,cAAc,GAAG,GAAG,GAAG,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;aAChE,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,GAAG,OAAO,CAAC,GAAG,OAAO,CAAC;aAErE,IAAI,WAAW,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC;aACjF,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,WAAW,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;SACvD,CAAC;KACL,CAAC;KAED,sBAAO,GAAP;SAAA,iBAKC;SAJG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,WAAC;aAC7B,KAAI,CAAC,IAAI,GAAG,CAAC,CAAC;aACd,KAAI,CAAC,kBAAkB,EAAE,CAAC;SAC9B,CAAC,CAAC,CAAC;KACP,CAAC;KA7CL;SAAC,gBAAS,CAAC;aACP,QAAQ,EAAE,MAAM;aAChB,UAAU,EAAE,CAAC,wBAAe,EAAE,0BAAiB,CAAC;aAChD,QAAQ,EAAE,QAAQ;aAClB,MAAM,EAAE,CAAC,MAAM,CAAC;UACnB,CAAC;;aAAA;KAyCF,WAAC;AAAD,EAAC;AAxCY,aAAI,OAwChB;;;;;;;;AC5DD,yBAAwB,sBAAsB,KAAK,iBAAiB,oBAAoB,qBAAqB,2BAA2B,eAAe,gBAAgB,uBAAuB,KAAK,gBAAgB,qBAAqB,sBAAsB,2BAA2B,iBAAiB,kBAAkB,kCAAkC,iBAAiB,4BAA4B,yBAAyB,2BAA2B,2BAA2B,yBAAyB,SAAS,KAAK,K;;;;;;;ACAjgB,gKAA+J,cAAc,uDAAuD,gBAAgB,uDAAuD,aAAa,6C","file":"app.js","sourcesContent":["import {bootstrap} from '@angular/platform-browser-dynamic';\nimport {LocationStrategy, HashLocationStrategy, APP_BASE_HREF} from '@angular/common';\nimport {HTTP_PROVIDERS, Http} from '@angular/http';\nimport {App} from './app/app';\nimport {APP_ROUTER_PROVIDERS} from './routes';\nimport {provide, enableProdMode} from '@angular/core';\nimport {disableDeprecatedForms, provideForms} from '@angular/forms';\nimport {AuthHttp, AuthConfig} from 'angular2-jwt';\n\nbootstrap(\n    App,\n    [\n        disableDeprecatedForms(),\n        provideForms(),\n        APP_ROUTER_PROVIDERS,\n        HTTP_PROVIDERS,\n        provide(LocationStrategy, {useClass: HashLocationStrategy}),\n        provide(AuthHttp, {\n            useFactory: (http) => {\n                return new AuthHttp(new AuthConfig({\n                    tokenName: 'jwt'\n                }), http);\n            },\n            deps: [Http]\n        }),\n        provide(APP_BASE_HREF, {useValue: '/'})\n    ]\n).catch(err => console.error(err));\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/tslint-loader!./src/main/webapp/typescript/index.ts\n **/","import {TimeService} from \"../services/timeService\";\nimport {myService} from \"../services/service\";\nimport {Component} from '@angular/core';\nimport {Router, ROUTER_DIRECTIVES} from '@angular/router';\n\nlet template = require('./app.html');\n\n@Component({\n    selector: 'cloud-catalog',\n    template: template,\n    directives: [ROUTER_DIRECTIVES],\n    providers: [myService, TimeService]\n})\nexport class App {\n    response: string;\n    api: string;\n\n    constructor(public router: Router) {\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/tslint-loader!./src/main/webapp/typescript/app/app.ts\n **/","import {Injectable} from '@angular/core';\r\nimport {Observable} from 'rxjs/Observable';\r\nimport 'rxjs/add/observable/interval';\r\nimport 'rxjs/add/operator/share';\r\n\r\n@Injectable()\r\nexport class TimeService {\r\n\r\n  public time;\r\n\r\n  constructor() {\r\n    this.time = Observable.interval(10).map(x => new Date()).share();\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/tslint-loader!./src/main/webapp/typescript/services/timeService.ts\n **/","import {baseBackendContext} from \"../common/baseBackendContext\";\nimport {Response} from '@angular/http';\nimport {Injectable} from '@angular/core';\nimport {Http} from '@angular/http';\nimport {contentHeaders} from '../common/headers';\nimport 'rxjs/add/operator/toPromise';\n\n@Injectable()\nexport class myService {\n\n    private dataUrl: string = baseBackendContext + 'data';\n\n    constructor(public h: Http) {\n    }\n\n    public getData(): any {\n        return this.getAndExtractData('/db.json');\n    }\n\n    // public getData(): any {\n    //     return {add:[38000], state:184211.91, target: 550000, timestamp:1468417895817 };\n    // }\n\n    protected extractData(res: Response): any {\n        let body = res.json();\n        return body || {};\n    }\n\n    protected handleError(error: any): Promise<void> {\n        console.error('An error occurred', error);\n        return Promise.reject(error.message || error);\n    }\n\n    protected log(body: any, methodName?: string): void {\n        console.log(methodName + '() | Request: ' + body);\n    }\n\n    protected post(url: string, body: any): Promise<any> {\n        return this.h.post(url, body, { headers: contentHeaders })\n            .toPromise()\n            .catch(this.handleError)\n    }\n\n    protected getR(url: string): Promise<any> {\n        return this.h.get(url, { headers: contentHeaders })\n            .toPromise()\n            .catch(this.handleError)\n    }\n\n    protected postAndExtractData(url: string, body: any): any {\n        return this.post(url, body).then(this.extractData);\n    }\n\n    protected getAndExtractData(url: string): any {\n        return this.getR(url).then(this.extractData);\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/tslint-loader!./src/main/webapp/typescript/services/service.ts\n **/","export const baseBackendContext = 'http://localhost:3000/';\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/tslint-loader!./src/main/webapp/typescript/common/baseBackendContext.ts\n **/","import {Headers} from '@angular/http';\n\nexport const contentHeaders = new Headers();\ncontentHeaders.append('Accept', 'application/json');\ncontentHeaders.append('Content-Type', 'application/json');\ncontentHeaders.append('Access-Control-Allow-Credentials', 'true');\ncontentHeaders.append('Access-Control-Allow-Methods', 'GET,HEAD,OPTIONS,POST,PUT');\ncontentHeaders.append('Access-Control-Allow-Origin', '*');\ncontentHeaders.append('Access-Control-Allow-Headers',\n    'Access-Control-Allow-Headers, Authorization, Origin, Accept, X-Requested-With, Content-Type,' +\n    ' Access-Control-Request-Method, Access-Control-Request-Headers');\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/tslint-loader!./src/main/webapp/typescript/common/headers.ts\n **/","module.exports = \"<router-outlet></router-outlet>\\r\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/webapp/typescript/app/app.html\n ** module id = 423\n ** module chunks = 0\n **/","import {provideRouter, RouterConfig} from '@angular/router';\nimport {Home} from './home/home';\n\nexport const routes: RouterConfig = [\n    {path: '', redirectTo: '/home', terminal: true},\n    {path: '/home', component: Home}\n];\n\nexport const APP_ROUTER_PROVIDERS = [\n    provideRouter(routes)\n];\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/tslint-loader!./src/main/webapp/typescript/routes.ts\n **/","import {TimeService} from \"../services/timeService\";\nimport {Observable} from \"../../../../../node_modules/rxjs/Observable.d\";\nimport {myService} from \"../services/service\";\nimport {Component, OnInit} from '@angular/core';\nimport {CORE_DIRECTIVES} from '@angular/common';\nimport {Http} from '@angular/http';\nimport {Router, ROUTER_DIRECTIVES} from '@angular/router';\nimport {AuthHttp} from 'angular2-jwt';\nimport {contentHeaders} from '../common/headers';\n\n\nlet styles = require('./home.css');\nlet template = require('./home.html');\n\n@Component({\n    selector: 'home',\n    directives: [CORE_DIRECTIVES, ROUTER_DIRECTIVES],\n    template: template,\n    styles: [styles]\n})\nexport class Home implements OnInit {\n\n    month = 2592000000; // in millis\n\n    currentState;\n    currentPercent;\n    currentDays;\n\n    data;\n    date;\n\n    constructor(public router: Router, private service: myService, private timeService: TimeService) {\n        this.getDate();\n    }\n\n    ngOnInit() {\n        this.service.getData().then(response => {\n            this.data = response;\n        });\n    }\n\n    updateCurrentState() {\n        if (this.data) {\n            let currentState = (this.data.state + (this.date.getTime() - this.data.timestamp) / this.month * this.data.add[0]);\n            this.currentState = Math.round(currentState * 10000) / 10000;\n\n            let currentPercent = 100 * this.currentState / this.data.target;\n            this.currentPercent = Math.round(currentPercent * 1000000) / 1000000;\n\n            let currentDays = (this.data.target - this.currentState) / this.data.add[0] * 30;\n            this.currentDays = Math.round(currentDays * 1) / 1;\n        }\n    }\n\n    getDate() {\n        this.timeService.time.subscribe(t => {\n            this.date = t;\n            this.updateCurrentState();\n        });\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/tslint-loader!./src/main/webapp/typescript/home/home.ts\n **/","module.exports = \".num {\\r\\n  font-size: 44px;\\r\\n}\\r\\n\\r\\n.parent {\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    position: absolute;\\r\\n    top: 0;\\r\\n    left: 0;\\r\\n    overflow: auto;\\r\\n}\\r\\n\\r\\n.block {\\r\\n    width: 250px;\\r\\n    height: 250px;\\r\\n    position: absolute;\\r\\n    top: 50%;\\r\\n    left: 50%;\\r\\n    margin: -125px 0 0 -125px;\\r\\n\\r\\n    img {\\r\\n        max-width: 100%;\\r\\n        height: auto;\\r\\n        display: block;\\r\\n        margin: 0 auto;\\r\\n        border: none;\\r\\n    }\\r\\n}\\r\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/webapp/typescript/home/home.css\n ** module id = 426\n ** module chunks = 0\n **/","module.exports = \"<div class=\\\"parent\\\">\\n    <div class=\\\"block\\\">\\n      <div style=\\\"font-family: 'Open Sans', sans-serif\\\">\\n        <span class=\\\"num\\\">{{currentState}}</span>\\n        <br />\\n        <span class=\\\"num\\\">{{currentPercent}}</span>\\n        <br />\\n        <span class=\\\"num\\\">{{currentDays}} </span>\\n      </div>\\n    </div>\\n</div>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main/webapp/typescript/home/home.html\n ** module id = 427\n ** module chunks = 0\n **/"],"sourceRoot":""}